{% schema %}
{
  "name": "Produkt-Slider",
  "max_blocks": 10,
  "settings": [],
  "blocks": [
    {
      "type": "product_slide",
      "name": "Produkt-Slide",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Produktbild"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Titel"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Kurzbeschreibung"
        },
        {
          "type": "textarea",
          "id": "usp1",
          "label": "USP 1"
        },
        {
          "type": "textarea",
          "id": "usp2",
          "label": "USP 2"
        },
        {
          "type": "textarea",
          "id": "usp3",
          "label": "USP 3"
        },
        {
          "type": "textarea",
          "id": "usp4",
          "label": "USP 4"
        },
        {
          "type": "url",
          "id": "product_link",
          "label": "Produktlink"
        },
        {
          "type": "textarea",
          "id": "zusammensetzung",
          "label": "Zusammensetzung"
        },
        {
          "type": "textarea",
          "id": "vitamine",
          "label": "Vitamine & Spurenelemente"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Produkt-Slider"
    }
  ]
}
{% endschema %}

{% stylesheet %}
.slider-container {
  display: flex;
  overflow-x: auto;
  gap: 20px;
  padding: 20px;
  scroll-snap-type: x mandatory;
}

.product-slide {
  min-width: 300px;
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 0 10px rgba(0,0,0,0.1);
  padding: 20px;
  text-align: center;
  scroll-snap-align: start;
}

.product-slide img {
  max-width: 150px;
  margin: 0 auto 15px;
}

.product-slide h2 {
  font-size: 20px;
  margin-bottom: 10px;
}

.product-slide ul {
  list-style: none;
  padding: 0;
  margin-bottom: 15px;
  text-align: left;
}

.product-slide ul li::before {
  content: '✔️ ';
}

.product-slide a.button {
  display: inline-block;
  background: #000;
  color: #fff;
  padding: 10px 20px;
  border-radius: 50px;
  text-decoration: none;
}

details summary {
  font-weight: bold;
  cursor: pointer;
  margin-top: 10px;
}
{% endstylesheet %}

<div class="slider-container">
  {% for block in section.blocks %}
    <div class="product-slide">
      {% if block.settings.image %}
        <img src="{{ block.settings.image | img_url: '300x300' }}" alt="{{ block.settings.title }}">
      {% endif %}
      <h2>{{ block.settings.title }}</h2>
      <p>{{ block.settings.description }}</p>
      <ul>
        <li>{{ block.settings.usp1 }}</li>
        <li>{{ block.settings.usp2 }}</li>
        <li>{{ block.settings.usp3 }}</li>
        <li>{{ block.settings.usp4 }}</li>
      </ul>
      {% if block.settings.product_link != blank %}
        <a href="{{ block.settings.product_link }}" class="button">Zum Produkt</a>
      {% endif %}

      <details>
        <summary>Zusammensetzung</summary>
        <p>{{ block.settings.zusammensetzung }}</p>
      </details>
      <details>
        <summary>Vitamine, Mengen- & Spurenelemente</summary>
        <p>{{ block.settings.vitamine }}</p>
      </details>
    </div>
  {% endfor %}
</div>